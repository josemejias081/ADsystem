<nav class="navbar bg-light fixed-top">
  <div class="container-fluid">
    <a class="navbar-brand" href="/">ADsystem</a>
    <button class="navbar-toggler" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasNavbar" aria-controls="offcanvasNavbar">
      <span class="navbar-toggler-icon"></span>
    </button>
    <% if user_signed_in? %>
      <div class="offcanvas offcanvas-start" tabindex="-1" id="offcanvasNavbar" aria-labelledby="offcanvasNavbarLabel">
        <div class="offcanvas-header bg-primary text-white">
          <% if current_user.photo.attached? %>
            <%= image_tag current_user.photo, size: "50x50", class:"rounded-circle" %>
          <% else %>
            <img class="rounded-circle" src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAkGBxAPDxIOEBAODw8PEBAPEhAODQ8NEQ8PFREWFhURFRMYHSggGBolGxMTITEhJSkrLi4uFx8zODMtNygtLisBCgoKBQUFDgUFDisZExkrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrK//AABEIAOEA4QMBIgACEQEDEQH/xAAaAAEBAQEBAQEAAAAAAAAAAAAABQQBAwIH/8QANRABAAEBBAcHAwIHAQAAAAAAAAECAwQRIQUSMUFRYXEigZGhscHRMjPhQvBScoKSorLxI//EABQBAQAAAAAAAAAAAAAAAAAAAAD/xAAUEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwD9RAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB52ttTTtmI5b/AAB6Cfa6Qn9MYc5z8mWu2qq21TPfl4AszJihALwhRMxsmY6S9aLzXGyqe+cfUFgYLG/7q474+G6J3g6AAAAAAAAAAAAAAAAAADBpC3/RH9XwDl5vu6j+74YpkAAAAAAAGuwvurTFOrjhv1sN/RkAb40jxo/yx9myztIqjWjZKI1XC21atWdlXlO4FMAAAAAAAAAAAAAAAHKpwjHhGKJXVjMzO2ZxVr5OFnV0w8ZwSAAAAAAAAAAAAAWbCvWpirjHnvejLo2rsYcKp9pagAAAAAAAAAAAAAAZ7/8AbnrHqlKmkPtz1j1SwAAAAAAAAAAAAb9FzlVHOJ9fhuT9GTnV0hQAAAAAAAAAAAAAABnv8f8AnPWPVKWbejWpmnjHnuRgAAAAAAAAAAAAbNGfVV0j1UWLRlOVU8ZiPD/raAAAAAAAAAAAAAAD4tbSKYxmcISrzMTXM05xOfy2aT+mP5vZOABwHQAAAAAB3049z5B12iiapwjOZccBbsbPUpinh5y+2e41TNnGO7GGgAAAAAAAAAAAAAAGbSFONGPCYn290tbtKNaJp4xMIkwA+f35PpwAAByPy6AfgAHPnB397gAMR2inGYjfMxHiCtcqcLOnnn4zi93IjDLhk6AAAAAAAAAAAAAAAk36jVrnnnHft88VYBCHpeacK6o5zPdObzAAAAAAAAAe9yoxtI5Zz3PGiMZiOMxC4AAAAAAAAAAAAAAAAAADDpKyyiuN2U9NzAt104xMTsmMEWqnCZidsTgDgAAAAAAANWj7LGrW3U+qm8bpZ6tERvnOesvYAAAAAAAAAAAAAAAAAABKv9OFpPOIn29lVM0jPb6Ux7gygAAAAAERjkPqy+qOseoLYAAAAAAAAAAAAAAAAAAACPeqsa6p54eGXsoXm9RRGETjVw4dUoAAAAAAAicM+AAuROMYxsnN1Pud7iI1atm6eHKVCJAAAAAAAAAAAAAAAGa2vtNOztTy2eLBbXiqvbOXCMoBvtr7TTlHanls8WK1vddW/COFOXm8AAAAAAAAAAAB92VtVT9MzHLbHg+AG6z0h/FT30/DVZXiirZMY8JylHcBeEeyvNdOycY4TnDbY3+mcquzPHbANY5E45xnHJ0AAAAAGG9X3Ds0bd9XwD3vF6poy21cI9062vFVe2cuEZQ8gAAAAAAAAAAAAAAAAAAAAHpY21VGye7dPc3WF+pnKrsz5fhNAXRJu15mjnTw+FWiqJiJjZOYOgA+bX6Z6T6IboAAAAAAAAAAAAAAAAAAAAAAAAAq3D7dPf8A7SANAAP/2Q==" alt="" width="50" height="50">
          <% end %>
          <h5 class="offcanvas-title" id="offcanvasNavbarLabel"><%= current_user.name %></h5>
          <button type="button" class="btn-close border border-white" data-bs-dismiss="offcanvas" aria-label="Close"></button>
        </div>
        <div class="offcanvas-body">
          <% unless current_user.Empleado? %>
          <div class=" m-2">
            <h5 class="bg-primary text-white px-2">Usuarios</h5>
            <div class="item bg-info">
              <i class='bx bxs-user'></i> <%= link_to 'Agregar empleado', new_user_path, class: "text-decoration-none text-white" %>
            </div>
              <hr class="divider">
            <div class="item bg-info">
              <i class='bx bxs-group'></i> <%= link_to 'Nómina', users_path, class: "text-decoration-none text-white" %>
            </div>
              <hr class="divider">
          </div>
          <% end %>
          <div class="m-2">
              <h5 class="bg-primary text-white px-2">Productos</h5>
            <div class="item bg-info">
              <i class='bx bxs-book-add'></i> <%= link_to 'Crear Categoría', new_category_path, class: "text-decoration-none text-white" %>
            </div>
              <hr class="divider">
            <div class="item bg-info">
              <i class='bx bxs-book-content'></i> <%= link_to 'Categorías', categories_path, class: "text-decoration-none text-white" %>
            </div>
              <hr class="divider">
            <div class="item bg-info">
              <i class='bx bxs-plus-square'></i> <%= link_to 'Agregar Producto', new_product_path, class: "text-decoration-none text-white" %>
            </div>
              <hr class="divider">
            <div class="item bg-info">
              <i class='bx bxs-store-alt'></i> <%= link_to 'Almacen', products_path, class: "text-decoration-none text-white" %>
            </div>
              <hr class="divider">
          </div>
          <div class="m-2">
              <h5 class="bg-primary text-white px-2">Entradas y Salidas</h5>
            <div class="item bg-info">
              <i class='bx bxs-select-multiple'></i> <%= link_to 'Notas', notes_path, class: "text-decoration-none text-white" %>
            </div>
              <hr class="divider">
          </div>
          <div class="m-2">
              <h5 class="bg-primary text-white px-2">Clientes y Proveedores</h5>
            <div class="item bg-info">
              <i class='bx bxs-contact'></i> <%= link_to 'Clientes / Proveedores', entities_path, class: "text-decoration-none text-white" %>
            </div>
              <hr class="divider">
          </div>
          <div class="m-2">
            <h5 class="bg-primary text-white px-2">Editar mis datos</h5>
            <div class="item bg-info hover">
                <i class='bx bx-edit-alt'></i> <%= link_to "Editar mis datos", edit_user_path(current_user), class: "text-decoration-none text-white" %> 
            </div>
          </div>
        </div>
      </div>
    <% end %>
  </div>
</nav>
